<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>ê¹€ì¤€í¬ì˜ êµ¬êµ¬ë‹¨</title>
    <link rel="stylesheet" href="Gugudan.css">
</head>

<body>
    <div id="root"></div>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <script type="text/babel"> // type="text/babel"ì„ ì“°ëŠ” ì´ìœ ?
        const GuGudan = () => { // í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì“°ëŠ” ì´ìœ ?
            const [first, setFirst] = React.useState(Math.ceil(Math.random() * 9));
            const [second, setSecond] = React.useState(Math.ceil(Math.random() * 9));
            const [inputValue, setInputValue] = React.useState("");
            const [result, setResult] = React.useState("");
            const [score, setScore] = React.useState(0);
            const inputEl = React.useRef(null);

            const onSubmitForm = (e) => {
                e.preventDefault(); // ê¸°ë³¸ submit ë¬´ì‹œ
                if (parseInt(inputValue) === first * second) {
                    setResult("ì •ë‹µì…ë‹ˆë‹¤.");
                    setInputValue("");
                    inputEl.current.blur()  // ì •ë‹µì„ ë§íˆë©´ focus out
                }
                else {
                    setResult("í‹€ë ¸ìŠµë‹ˆë‹¤.");
                    setInputValue("");
                    inputEl.current.focus()  // ì •ë‹µì´ ì•„ë‹ ë•ŒëŠ” focus í•´ì„œ ë‹¤ì‹œ í’€ë„ë¡
                }
            }

            const answerColor = () => {
                if (result === "ì •ë‹µì…ë‹ˆë‹¤.") return { color: "rgb(0, 124, 52)" };
                else if (result === "í‹€ë ¸ìŠµë‹ˆë‹¤.") return { color: "red" };
                else return {};
            }

            return (
                // React.Fragmentë¥¼ ì“°ëŠ” ì´ìœ ?
                <React.Fragment>
                    <div className="quiz">
                        <div className="box">
                            <div>{first} ê³±í•˜ê¸° {second}ëŠ”?</div>
                            <form onSubmit={onSubmitForm}>
                                <input
                                    ref={inputEl}
                                    value={inputValue}
                                    onChange={(e) => { setInputValue(e.target.value) }}
                                />
                                <button>ì…ë ¥!</button>
                            </form>
                            <div className="answer" style={answerColor()}>{result}</div>
                        </div>
                    </div>
                </React.Fragment>
            );
        }

        const App = () => {
            return (
                // React.Fragmentë¥¼ ì“°ëŠ” ì´ìœ ?
                <div className="container">
                    <header>
                        <h1>ğŸ”¥ Quiz Time ğŸ”¥</h1>
                        <p>made by APPS 11ê¸° ê¹€ì¤€í¬</p>
                    </header>
                    <div className="body-container">
                        <GuGudan />
                        <GuGudan />
                        <GuGudan />
                        <GuGudan />
                        <GuGudan />
                    </div>
                </div>
            );
        }
    </script>


    <script type="text/babel">
        ReactDOM.render(<App />, document.querySelector('#root'));
        // ì´ëŸ° ë°©ì‹ ì“°ëŠ” ì´ìœ ?
    </script>

</body>

</html>